extends ../layout/admin

block contenido
    div(class='py-10')
        h1(class='text-4xl font-extrabold text-center') Bienes
            span(class='font-normal') Raices 
        h2(class='text-center text-2xl my-4 font-extrabold')= title

        a(href='/propiedades/crear' class='rounded py-2 bg-indigo-600 hover:bg-indigo-700 text-sm text-center text-white px-10 my-5 uppercase font-bold transition-colors cursor-pointer inline-block w-full sm:w-auto') Publicar Propiedad

        if propiedades.length > 0 
            div(class='bg-white shadow rounded-lg')
                ul(class='divide-y divide-gray-200')
                    each propiedad in propiedades 
                        li 
                            div(class='p-6 w-full flex flex-col md:flex-row sm:items-center sm:justify-between space-y-8 md:space-y-0 gap-4')
                                div(class='sm:w-1/4 md:w-1/6')
                                    img(src=`/uploads/${propiedad.imagen}`, alt=`Imagen propiedad ${propiedad.titulo}` class='w-full block')
                                div(class='sm:w-2/4 md:w-3/6 lg:w-4/6 space-y-3') 
                                    a(href=`/propiedad/${propiedad.id}` class='block text-2xl font-extrabold text-indigo-600 truncate')= propiedad.titulo  

                                    p(class='text-sm') Categor√≠a: 
                                        span(class='text-black font-bold')= propiedad.categoria.nombre 
                                    p(class='text-sm') Precio: 
                                        span(class='text-black font-bold')= propiedad.precio.precio
                                div(class='sm:w-1/4 md:w-2/6 lg:flex-1 flex flex-col lg:flex-row gap-2') 
                                    form(action='#')
                                        input(type='submit' class=` w-full px-2 py-2 md:py-1 leading-5 font-semibold rounded cursor-pointer transition-colors ${propiedad.publicado ? 'bg-green-100 text-green-800 hover:bg-green-200 hover:text-green-900' : 'bg-red-100 text-yellow-800 hover:bg-yellow-200 hover:text-red-900'}` value=`${propiedad.publicado ? 'Publicado' : 'No Publicado'}`)
                                    
                                    a(href=`/propiedades/editar/${propiedad.id}` class='px-2 py-2 md:py-1 leading-5 font-semibold text-center rounded cursor-pointer bg-indigo-100 text-indigo-800 hover:text-indigo-900 hover:bg-indigo-200 transition-colors') Editar

                                    form(action=`/propiedades/eliminar/${propiedad.id}` method='POST')
                                        input(type="hidden" name='_csrf' value= csrfToken)  
                                        input(type='submit' class=`w-full px-2 py-2 md:py-1 leading-5 font-semibold rounded cursor-pointer transition-colors bg-red-100 text-red-800 hover:bg-red-200 hover:text-red-900` value='Eliminar' )
        else 
            p(class='text-center font-semibold') No Hay Propiedades Que Listar